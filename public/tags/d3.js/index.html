

<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.55.3" />
  <meta name="author" content="Jason Preszler">
  <meta name="description" content="Data Science Fellow">

  
  <link rel="alternate" hreflang="en-us" href="/tags/d3.js/">

  
  


  

  
  
  
  
    
  
  
    
    
      
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
      
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700%7cRoboto:400,400italic,700%7cRoboto&#43;Mono">
  
  <link rel="stylesheet" href="/styles.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-111748163-1', 'auto');
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  

  
  <link rel="alternate" href="/tags/d3.js/index.xml" type="application/rss+xml" title="Jason I. Preszler">
  <link rel="feed" href="/tags/d3.js/index.xml" type="application/rss+xml" title="Jason I. Preszler">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/tags/d3.js/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Jason I. Preszler">
  <meta property="og:url" content="/tags/d3.js/">
  <meta property="og:title" content="d3.js | Jason I. Preszler">
  <meta property="og:description" content="Data Science Fellow">
  <meta property="og:locale" content="en-us">
  
  <meta property="og:updated_time" content="2018-12-27T00:00:00&#43;00:00">
  

  

  <title>d3.js | Jason I. Preszler</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">Jason I. Preszler</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        

        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#publications">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#talks">
            
            <span>Talks</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>





<div class="universal-wrapper">

  <h1>d3.js</h1>

  

  
  
  <div>
    <h2><a href="/post/2018-12-27-sankey/">Sankey Diagram</a></h2>
    <div class="article-style">
      
      This post is about a type of visualization the will hopefully help see how students “flow” through college. The data is an anonymized selection of Math and Math-Computer Science majors at the College of Idaho, and for simplicity we’ll only be using the math and computer science courses. Out goal is to produce the following Sankey Diagram, which is really just a graph (in the discrete math sense - nodes connected by edges) where the edges are scaled by weight, in this case the number of students taking course A then B will be reflected in the width of the link between A and B.
      
    </div>
  </div>
  
  <div>
    <h2><a href="/post/2018-08-21-chords/">What a Tangled Web We Weave...</a></h2>
    <div class="article-style">
      
      chorddiag( xtabs(~MAJOR+minor, data = mmhl[mmhl$Grad.Year == 2017,], drop.unused.levels = TRUE), showTicks = FALSE, groupColors = many_colors, type = &quot;bipartite&quot; )  {&ldquo;x&rdquo;:{&ldquo;matrix&rdquo;:[[0,0,0,0,0,0,0,0,2,2,0,1,0,0,2,0,0,0,0,0,5,0,1,1,4,1,3,1],[0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0],[0,0,0,0,0,0,0,0,1,2,0,0,1,2,0,4,0,0,1,0,0,1,0,1,3,0,1,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0],[2,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[2,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[5,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[4,1,1,0,1,1,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[3,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],&ldquo;options&rdquo;:{&ldquo;type&rdquo;:&ldquo;bipartite&rdquo;,&ldquo;width&rdquo;:null,&ldquo;height&rdquo;:null,&ldquo;margin&rdquo;:100,&ldquo;showGroupnames&rdquo;:true,&ldquo;groupNames&rdquo;:[&ldquo;BUS&rdquo;,&ldquo;CHE&rdquo;,&ldquo;HEA&rdquo;,&ldquo;HIS&rdquo;,&ldquo;MAT&rdquo;,&ldquo;MATCS&rdquo;,&ldquo;MATPH&rdquo;,&ldquo;THE&rdquo;,&ldquo;ais&rdquo;,&ldquo;artde&rdquo;,&ldquo;bus&rdquo;,&ldquo;criju&rdquo;,&ldquo;crw&rdquo;,&ldquo;csc&rdquo;,&ldquo;csd&rdquo;,&ldquo;dueng&rdquo;,&ldquo;ed10&rdquo;,&ldquo;fre&rdquo;,&ldquo;his&rdquo;,&ldquo;hpmed&rdquo;,&ldquo;matap&rdquo;,&ldquo;phi&rdquo;,&ldquo;phsci&rdquo;,&ldquo;poec&rdquo;,&ldquo;psy&rdquo;,&ldquo;relst&rdquo;,&ldquo;spa&rdquo;,&ldquo;vstdy&rdquo;],&ldquo;groupColors&rdquo;:[&ldquo;#7FC97F&rdquo;,&ldquo;#BEAED4&rdquo;,&ldquo;#FDC086&rdquo;,&ldquo;#FFFF99&rdquo;,&ldquo;#386CB0&rdquo;,&ldquo;#F0027F&rdquo;,&ldquo;#BF5B17&rdquo;,&ldquo;#666666&rdquo;,&ldquo;#1B9E77&rdquo;,&ldquo;#D95F02&rdquo;,&ldquo;#7570B3&rdquo;,&ldquo;#E7298A&rdquo;,&ldquo;#66A61E&rdquo;,&ldquo;#E6AB02&rdquo;,&ldquo;#A6761D&rdquo;,&ldquo;#666666&rdquo;,&ldquo;#A6CEE3&rdquo;,&ldquo;#1F78B4&rdquo;,&ldquo;#B2DF8A&rdquo;,&ldquo;#33A02C&rdquo;,&ldquo;#FB9A99&rdquo;,&ldquo;#E31A1C&rdquo;,&ldquo;#FDBF6F&rdquo;,&ldquo;#FF7F00&rdquo;,&ldquo;#CAB2D6&rdquo;,&ldquo;#6A3D9A&rdquo;,&ldquo;#FFFF99&rdquo;,&ldquo;#B15928&rdquo;,&ldquo;#FBB4AE&rdquo;,&ldquo;#B3CDE3&rdquo;,&ldquo;#CCEBC5&rdquo;,&ldquo;#DECBE4&rdquo;,&ldquo;#FED9A6&rdquo;,&ldquo;#FFFFCC&rdquo;,&ldquo;#E5D8BD&rdquo;,&ldquo;#FDDAEC&rdquo;,&ldquo;#F2F2F2&rdquo;,&ldquo;#B3E2CD&rdquo;,&ldquo;#FDCDAC&rdquo;,&ldquo;#CBD5E8&rdquo;,&ldquo;#F4CAE4&rdquo;,&ldquo;#E6F5C9&rdquo;,&ldquo;#FFF2AE&rdquo;,&ldquo;#F1E2CC&rdquo;,&ldquo;#CCCCCC&rdquo;,&ldquo;#E41A1C&rdquo;,&ldquo;#377EB8&rdquo;,&ldquo;#4DAF4A&rdquo;,&ldquo;#984EA3&rdquo;,&ldquo;#FF7F00&rdquo;,&ldquo;#FFFF33&rdquo;,&ldquo;#A65628&rdquo;,&ldquo;#F781BF&rdquo;,&ldquo;#999999&rdquo;,&ldquo;#66C2A5&rdquo;,&ldquo;#FC8D62&rdquo;,&ldquo;#8DA0CB&rdquo;,&ldquo;#E78AC3&rdquo;,&ldquo;#A6D854&rdquo;,&ldquo;#FFD92F&rdquo;,&ldquo;#E5C494&rdquo;,&ldquo;#B3B3B3&rdquo;,&ldquo;#8DD3C7&rdquo;,&ldquo;#FFFFB3&rdquo;,&ldquo;#BEBADA&rdquo;,&ldquo;#FB8072&rdquo;,&ldquo;#80B1D3&rdquo;,&ldquo;#FDB462&rdquo;,&ldquo;#B3DE69&rdquo;,&ldquo;#FCCDE5&rdquo;,&ldquo;#D9D9D9&rdquo;,&ldquo;#BC80BD&rdquo;,&ldquo;#CCEBC5&rdquo;,&ldquo;#FFED6F&rdquo;],&ldquo;groupThickness&rdquo;:0.1,&ldquo;groupPadding&rdquo;:0.0349065850398866,&ldquo;groupnamePadding&rdquo;:[30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30],&ldquo;groupnameFontsize&rdquo;:18,&ldquo;groupedgeColor&rdquo;:null,&ldquo;chordedgeColor&rdquo;:&ldquo;#808080&rdquo;,&ldquo;categoryNames&rdquo;:[&ldquo;MAJOR&rdquo;,&ldquo;minor&rdquo;],&ldquo;categorynamePadding&rdquo;:100,&ldquo;categorynameFontsize&rdquo;:28,&ldquo;showTicks&rdquo;:false,&ldquo;tickInterval&rdquo;:0.1,&ldquo;ticklabelFontsize&rdquo;:10,&ldquo;fadeLevel&rdquo;:0.1,&ldquo;showTooltips&rdquo;:true,&ldquo;showZeroTooltips&rdquo;:true,&ldquo;tooltipNames&rdquo;:[&ldquo;BUS&rdquo;,&ldquo;CHE&rdquo;,&ldquo;HEA&rdquo;,&ldquo;HIS&rdquo;,&ldquo;MAT&rdquo;,&ldquo;MATCS&rdquo;,&ldquo;MATPH&rdquo;,&ldquo;THE&rdquo;,&ldquo;ais&rdquo;,&ldquo;artde&rdquo;,&ldquo;bus&rdquo;,&ldquo;criju&rdquo;,&ldquo;crw&rdquo;,&ldquo;csc&rdquo;,&ldquo;csd&rdquo;,&ldquo;dueng&rdquo;,&ldquo;ed10&rdquo;,&ldquo;fre&rdquo;,&ldquo;his&rdquo;,&ldquo;hpmed&rdquo;,&ldquo;matap&rdquo;,&ldquo;phi&rdquo;,&ldquo;phsci&rdquo;,&ldquo;poec&rdquo;,&ldquo;psy&rdquo;,&ldquo;relst&rdquo;,&ldquo;spa&rdquo;,&ldquo;vstdy&rdquo;],&ldquo;tooltipFontsize&rdquo;:12,&ldquo;tooltipUnit&rdquo;:&ldquo;&rdquo;,&ldquo;tooltipGroupConnector&rdquo;:&rdquo; &#x25B6; &ldquo;,&ldquo;precision&rdquo;:&ldquo;null&rdquo;,&ldquo;clickAction&rdquo;:null,&ldquo;clickGroupAction&rdquo;:null}},&ldquo;evals&rdquo;:[],&ldquo;jsHooks&rdquo;:[]} The point of this post is to illustrate how to make the above “chord diagram” using the chorddiag package which leverages D3.js from R. The above visual shows students major/minor combinations who graduated in 2017 from the College of Idaho with at least one minor connected to my department: MAPS.
      
    </div>
  </div>
  

  


</div>
<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017 Jason Preszler &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/c.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/sql.min.js"></script>
      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML" integrity="sha512-tOav5w1OjvsSJzePRtt2uQPFwBoHt1VZcUq8l8nm5284LEKE9FSJBQryzMBzHxY5P0zRdNqEcpLIRVYFNgu1jw==" crossorigin="anonymous"></script>
    
    

  </body>
</html>



