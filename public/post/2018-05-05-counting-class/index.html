<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.55.3" />
  <meta name="author" content="Jason Preszler">
  <meta name="description" content="Data Science Fellow">

  
  <link rel="alternate" hreflang="en-us" href="/post/2018-05-05-counting-class/">

  
  


  

  
  
  
  
    
  
  
    
    
      
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
      
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700%7cRoboto:400,400italic,700%7cRoboto&#43;Mono">
  
  <link rel="stylesheet" href="/styles.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-111748163-1', 'auto');
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Jason I. Preszler">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Jason I. Preszler">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/2018-05-05-counting-class/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Jason I. Preszler">
  <meta property="og:url" content="/post/2018-05-05-counting-class/">
  <meta property="og:title" content="Counting Classes: The Basics | Jason I. Preszler">
  <meta property="og:description" content="">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2018-05-05T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2018-05-05T00:00:00&#43;00:00">
  

  

  <title>Counting Classes: The Basics | Jason I. Preszler</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">Jason I. Preszler</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        

        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#publications">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#talks">
            
            <span>Talks</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <div class="article-inner">
      <h1 itemprop="name">Counting Classes: The Basics</h1>

      

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2018-05-05 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      May 5, 2018
    </time>
  </span>

  

  
  

  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Counting%20Classes%3a%20The%20Basics&amp;url=%2fpost%2f2018-05-05-counting-class%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2f2018-05-05-counting-class%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2f2018-05-05-counting-class%2f&amp;title=Counting%20Classes%3a%20The%20Basics"
         target="_blank" rel="noopener">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2f2018-05-05-counting-class%2f&amp;title=Counting%20Classes%3a%20The%20Basics"
         target="_blank" rel="noopener">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Counting%20Classes%3a%20The%20Basics&amp;body=%2fpost%2f2018-05-05-counting-class%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>


      <div class="article-style" itemprop="articleBody">
        
<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>


<p>At the College of Idaho, there’s been discussion about visualizing the curriculum as well as understanding the curriculum. Naturally this interests me as a chance to wallow in some complicated data (students are required to complete a major and 3 minors across 4 “peaks” rather than complete courses from a traditional “core”). I thought using R and a Neo4j graph database would be useful (something to look forward to) - but first I needed to get data from the catalogue!</p>
<div id="web-scraping" class="section level1">
<h1>Web Scraping</h1>
<p>Web scraping is one the essential data science skills that I’m not as fluent in as I would like to be, so getting the course data from the catalogue is a nice chance to hone my skills. The <code>rvest</code> package (from Hadley Wickham) is a great tool for web scraping in R and combines well with <code>stringr</code> text manipulation functions and the <code>SelectorGadget</code> chrome extension.</p>
<p>We’ll start by getting a list of all subjects in the catalogue, with links to the subject page which has the class list in that subject.</p>
<pre class="r"><code>base_url &lt;- &quot;http://collegeofidaho.smartcatalogiq.com&quot;
base_url_ext &lt;- &quot;/en/2017-2018/Undergraduate-Catalog/Courses&quot;

#read base page
base_html &lt;- read_html(paste0(base_url,base_url_ext))
#extract links from base page
subjectLinks &lt;- html_nodes(base_html, &#39;a&#39;)
#convert links to text
subjectText &lt;- html_text(subjectLinks)
subjectText &lt;- subjectText[78:120]
#keep url for each subject also
sub_url &lt;- html_attr(subjectLinks, &#39;href&#39;)[78:120]

subDF &lt;- str_split(subjectText,pattern= &#39;-&#39;, n=2, 
                   simplify=TRUE) %&gt;% as.data.frame()
names(subDF) &lt;- c(&quot;sub&quot;, &quot;subject&quot;)
subDF &lt;-mutate(subDF, sub = str_trim(sub, side = &quot;both&quot;), 
               subject = str_trim(subject, side = &quot;both&quot;), 
               url=paste0(base_url,sub_url))

kable(head(subDF),&quot;html&quot;) %&gt;%  
  kable_styling( bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;,                                   &quot;condensed&quot;, &quot;responsive&quot;), full_width=FALSE) </code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
sub
</th>
<th style="text-align:left;">
subject
</th>
<th style="text-align:left;">
url
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ACC
</td>
<td style="text-align:left;">
Accounting
</td>
<td style="text-align:left;">
<a href="http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ACC-Accounting" class="uri">http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ACC-Accounting</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
ART
</td>
<td style="text-align:left;">
Art
</td>
<td style="text-align:left;">
<a href="http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ART-Art" class="uri">http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ART-Art</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
ASN
</td>
<td style="text-align:left;">
Asian Studies
</td>
<td style="text-align:left;">
<a href="http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ASN-Asian-Studies" class="uri">http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ASN-Asian-Studies</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
ATH
</td>
<td style="text-align:left;">
Anthropology
</td>
<td style="text-align:left;">
<a href="http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ATH-Anthropology" class="uri">http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ATH-Anthropology</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
ATHSOC
</td>
<td style="text-align:left;">
Anthropology Sociology
</td>
<td style="text-align:left;">
<a href="http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ATHSOC-Anthropology-Sociology" class="uri">http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ATHSOC-Anthropology-Sociology</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
BIO
</td>
<td style="text-align:left;">
Biology
</td>
<td style="text-align:left;">
<a href="http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/BIO-Biology" class="uri">http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/BIO-Biology</a>
</td>
</tr>
</tbody>
</table>
<p>The <code>kable_styling</code> function is from the <code>kableExtra</code> package and provides some nice features to control kable style. Now we need to follow the link for each subject and get a dataframe of course numbers, names and urls for description, credit, and prerequisite info. The nice way of doing this is use purrr’s <code>map_dfr</code> function which is a more user friendly version of <code>*apply</code> and <code>rbind.data.frame</code>. As with apply, we’ll need a function to call on each subject.</p>
<pre class="r"><code>get_class_list &lt;- function(i){
  #get list of links on subject page
  class_links &lt;- html_nodes(read_html(subDF$url[i]), &#39;a&#39;)
  #turn links to text
  class_list &lt;- html_text(class_links)
  class_url &lt;- html_attr(class_links, &#39;href&#39;)
  classDF &lt;- data.frame(list=class_list, url=class_url)
  
  #only keep links for classes, each subject has 
  #classes starting in a different position
  classDF &lt;- classDF %&gt;% filter(str_detect(list,
                                  paste0(subDF$sub[i],&#39;-&#39;)))

    #We&#39;ll split on 1st space, discard everything after it and use
  #what&#39;s before it to build the required DF
  classDF &lt;- separate(classDF, list, 
                  into=c(&quot;id&quot;, &quot;name&quot;), sep = &quot; &quot;, extra = &quot;merge&quot;)
  
  #two theater classes have typos -THE-###
  #this is solely dealing with that
  classDF$id &lt;- str_replace(classDF$id, &quot;-THE&quot;, &quot;THE&quot;)

  #back to normal  
  classDF &lt;- separate(classDF, id, into = 
                        c(&quot;sub&quot;, &quot;number&quot;), sep=&quot;-&quot;)
  
  #the id field has the last part of the new url, we need the 
  #subject url with the course level (100,200,etc) then id
  classDF &lt;- mutate(classDF, url=paste0(base_url,url))
  
  #several class names have &#39;\n&#39; in them, let&#39;s remove that now
  classDF &lt;- mutate(classDF, name=str_replace_all(name, &#39;\n&#39;,&#39; &#39;))
  
  return(classDF)
}

classes &lt;- map_dfr(1:length(subDF$sub), get_class_list)
#add level variable (100,200, etc.)
classes &lt;- classes %&gt;% mutate(level=paste0(
          str_extract(number, &#39;[:digit:]&#39;),&quot;00&quot;))

kable(head(classes),&quot;html&quot;) %&gt;%  
  kable_styling( bootstrap_options = 
               c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;, 
                 &quot;responsive&quot;), full_width=FALSE) </code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
sub
</th>
<th style="text-align:left;">
number
</th>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
url
</th>
<th style="text-align:left;">
level
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ACC
</td>
<td style="text-align:left;">
221
</td>
<td style="text-align:left;">
Financial Accounting
</td>
<td style="text-align:left;">
<a href="http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ACC-Accounting/200/ACC-221" class="uri">http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ACC-Accounting/200/ACC-221</a>
</td>
<td style="text-align:left;">
200
</td>
</tr>
<tr>
<td style="text-align:left;">
ACC
</td>
<td style="text-align:left;">
222
</td>
<td style="text-align:left;">
Managerial Accounting
</td>
<td style="text-align:left;">
<a href="http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ACC-Accounting/200/ACC-222" class="uri">http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ACC-Accounting/200/ACC-222</a>
</td>
<td style="text-align:left;">
200
</td>
</tr>
<tr>
<td style="text-align:left;">
ACC
</td>
<td style="text-align:left;">
318
</td>
<td style="text-align:left;">
Intermediate Accounting I
</td>
<td style="text-align:left;">
<a href="http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ACC-Accounting/300/ACC-318" class="uri">http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ACC-Accounting/300/ACC-318</a>
</td>
<td style="text-align:left;">
300
</td>
</tr>
<tr>
<td style="text-align:left;">
ACC
</td>
<td style="text-align:left;">
320
</td>
<td style="text-align:left;">
Intermediate Accounting II
</td>
<td style="text-align:left;">
<a href="http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ACC-Accounting/300/ACC-320" class="uri">http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ACC-Accounting/300/ACC-320</a>
</td>
<td style="text-align:left;">
300
</td>
</tr>
<tr>
<td style="text-align:left;">
ACC
</td>
<td style="text-align:left;">
323
</td>
<td style="text-align:left;">
Electronic Accounting &amp; Analysis
</td>
<td style="text-align:left;">
<a href="http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ACC-Accounting/300/ACC-323" class="uri">http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ACC-Accounting/300/ACC-323</a>
</td>
<td style="text-align:left;">
300
</td>
</tr>
<tr>
<td style="text-align:left;">
ACC
</td>
<td style="text-align:left;">
423
</td>
<td style="text-align:left;">
Auditing
</td>
<td style="text-align:left;">
<a href="http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ACC-Accounting/400/ACC-423" class="uri">http://collegeofidaho.smartcatalogiq.com/en/2017-2018/Undergraduate-Catalog/Courses/ACC-Accounting/400/ACC-423</a>
</td>
<td style="text-align:left;">
400
</td>
</tr>
</tbody>
</table>
<p>Now we have the basic class info, on to some descriptive analysis.</p>
</div>
<div id="the-counts" class="section level1">
<h1>The Counts</h1>
<p>I should mention that this data is all from the current (2017-2018) catalogue, so it doesn’t reflect courses added, removed, or changed during this academic year. The most basic question is how many classes does CofI offer? Well, the 43 subjects offer 1029 courses, but how are they distributed across subject and level?</p>
<p>First, let’s group by subject to see which subjects offer the most and least courses.</p>
<pre class="r"><code>group_by(classes, sub) %&gt;% 
  summarise(Count = n()) %&gt;% 
  arrange(desc(Count)) %&gt;% head() %&gt;% 
  kable(&quot;html&quot;, caption = 
          &quot;Subjects with the Most Courses&quot;) %&gt;% 
  kable_styling( bootstrap_options = c(&quot;striped&quot;, 
                  &quot;hover&quot;, &quot;condensed&quot;, &quot;responsive&quot;), full_width=FALSE) </code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:most">Table 1: </span>Subjects with the Most Courses
</caption>
<thead>
<tr>
<th style="text-align:left;">
sub
</th>
<th style="text-align:right;">
Count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
HIS
</td>
<td style="text-align:right;">
94
</td>
</tr>
<tr>
<td style="text-align:left;">
BIO
</td>
<td style="text-align:right;">
92
</td>
</tr>
<tr>
<td style="text-align:left;">
ENG
</td>
<td style="text-align:right;">
61
</td>
</tr>
<tr>
<td style="text-align:left;">
MUS
</td>
<td style="text-align:right;">
54
</td>
</tr>
<tr>
<td style="text-align:left;">
PSY
</td>
<td style="text-align:right;">
54
</td>
</tr>
<tr>
<td style="text-align:left;">
POE
</td>
<td style="text-align:right;">
51
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>group_by(classes, sub) %&gt;% summarise(Count = n()) %&gt;% 
  arrange(desc(Count)) %&gt;% tail() %&gt;% 
  kable(&quot;html&quot;, caption = &quot;Subjects with the Least Courses&quot;) %&gt;%
  kable_styling( bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, 
                        &quot;condensed&quot;, &quot;responsive&quot;), full_width=FALSE) </code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:least">Table 2: </span>Subjects with the Least Courses
</caption>
<thead>
<tr>
<th style="text-align:left;">
sub
</th>
<th style="text-align:right;">
Count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ASN
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
EDUSPA
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
ESL
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
FYS
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
ECN
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
STS
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<p>Clearly, History doesn’t teach all of those classes every semester. It would be interesting to incorporate frequency of classes into this analysis, but that requires data from elsewhere since CofI doesn’t typically put course frequency into the catalogue.</p>
<p>Second, we can ignore subjects and look at the distribution of courses at different levels:</p>
<pre class="r"><code>group_by(classes, level) %&gt;% summarise(Count = n()) %&gt;% 
  kable(&quot;html&quot;, caption = &quot;Number of Courses at each Level&quot;) %&gt;%
  kable_styling( bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, 
                          &quot;condensed&quot;, &quot;responsive&quot;), full_width=FALSE) </code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:levelDist">Table 3: </span>Number of Courses at each Level
</caption>
<thead>
<tr>
<th style="text-align:left;">
level
</th>
<th style="text-align:right;">
Count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
000
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
173
</td>
</tr>
<tr>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
222
</td>
</tr>
<tr>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
413
</td>
</tr>
<tr>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
220
</td>
</tr>
</tbody>
</table>
<p>Finally, we can look at the distribution grouped by subject and level but because of the range of course counts at each subject, it’s probably better to work with proportions rather than counts. I’ll also order by decreasing proportion and note that if a subject (like accounting) doesn’t teach any classes of a particular level, we won’t see zeros in the list.</p>
<pre class="r"><code>subCnt &lt;- group_by(classes, sub) %&gt;% summarise(Count_s = n())
sublevDF &lt;- group_by(classes, sub, level) %&gt;% 
  summarise(Count_sl = n())

sublevDF &lt;- inner_join(sublevDF, subCnt, by=&quot;sub&quot;) %&gt;% 
  mutate(sub.prop = round(Count_sl/Count_s, 4)) %&gt;% 
  dplyr::select(sub, level, sub.prop) %&gt;% 
  arrange(desc(sub.prop))

kable(sublevDF, &quot;html&quot;, caption = &quot;Proportion of Subject&#39;s 
      Courses at each Level&quot;) %&gt;%  
  kable_styling( bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, 
          &quot;condensed&quot;, &quot;responsive&quot;), full_width=FALSE) %&gt;%
  scroll_box(width=&quot;100%&quot;, height = &quot;250px&quot;)</code></pre>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:250px; overflow-x: scroll; width:100%; ">
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:sublevel">Table 4: </span>Proportion of Subject’s Courses at each Level
</caption>
<thead>
<tr>
<th style="text-align:left;">
sub
</th>
<th style="text-align:left;">
level
</th>
<th style="text-align:right;">
sub.prop
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ECN
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
1.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
EDUSPA
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
1.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
ESL
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
1.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
FYS
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
1.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
STS
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
1.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
ATHSOC
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.8333
</td>
</tr>
<tr>
<td style="text-align:left;">
HHPA
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.8276
</td>
</tr>
<tr>
<td style="text-align:left;">
MFL
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.7273
</td>
</tr>
<tr>
<td style="text-align:left;">
HIS
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.6702
</td>
</tr>
<tr>
<td style="text-align:left;">
ASN
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.6667
</td>
</tr>
<tr>
<td style="text-align:left;">
IND
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.6250
</td>
</tr>
<tr>
<td style="text-align:left;">
HSC
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.6000
</td>
</tr>
<tr>
<td style="text-align:left;">
ACC
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.5833
</td>
</tr>
<tr>
<td style="text-align:left;">
CHI
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.5714
</td>
</tr>
<tr>
<td style="text-align:left;">
GER
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.5714
</td>
</tr>
<tr>
<td style="text-align:left;">
BIO
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.5652
</td>
</tr>
<tr>
<td style="text-align:left;">
POE
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.5294
</td>
</tr>
<tr>
<td style="text-align:left;">
SOC
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.5294
</td>
</tr>
<tr>
<td style="text-align:left;">
PHI
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.5263
</td>
</tr>
<tr>
<td style="text-align:left;">
PHY
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.5161
</td>
</tr>
<tr>
<td style="text-align:left;">
EDU
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.5000
</td>
</tr>
<tr>
<td style="text-align:left;">
LAS
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.5000
</td>
</tr>
<tr>
<td style="text-align:left;">
LSP
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.5000
</td>
</tr>
<tr>
<td style="text-align:left;">
SPA
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.5000
</td>
</tr>
<tr>
<td style="text-align:left;">
SPE
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.5000
</td>
</tr>
<tr>
<td style="text-align:left;">
PSY
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.4815
</td>
</tr>
<tr>
<td style="text-align:left;">
ENV
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.4762
</td>
</tr>
<tr>
<td style="text-align:left;">
CSC
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.4667
</td>
</tr>
<tr>
<td style="text-align:left;">
ENG
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.4590
</td>
</tr>
<tr>
<td style="text-align:left;">
CHE
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.4324
</td>
</tr>
<tr>
<td style="text-align:left;">
BUS
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.4146
</td>
</tr>
<tr>
<td style="text-align:left;">
ENG
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.4098
</td>
</tr>
<tr>
<td style="text-align:left;">
FRE
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.4000
</td>
</tr>
<tr>
<td style="text-align:left;">
JOURN
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.4000
</td>
</tr>
<tr>
<td style="text-align:left;">
MUSAP
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.4000
</td>
</tr>
<tr>
<td style="text-align:left;">
REL
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.4000
</td>
</tr>
<tr>
<td style="text-align:left;">
THE
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.4000
</td>
</tr>
<tr>
<td style="text-align:left;">
BUS
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.3902
</td>
</tr>
<tr>
<td style="text-align:left;">
HHP
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.3864
</td>
</tr>
<tr>
<td style="text-align:left;">
EDU
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.3750
</td>
</tr>
<tr>
<td style="text-align:left;">
GEO
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.3750
</td>
</tr>
<tr>
<td style="text-align:left;">
GEO
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.3750
</td>
</tr>
<tr>
<td style="text-align:left;">
REL
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.3667
</td>
</tr>
<tr>
<td style="text-align:left;">
MS
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.3636
</td>
</tr>
<tr>
<td style="text-align:left;">
MUS
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.3519
</td>
</tr>
<tr>
<td style="text-align:left;">
ART
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.3415
</td>
</tr>
<tr>
<td style="text-align:left;">
ASN
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.3333
</td>
</tr>
<tr>
<td style="text-align:left;">
CHE
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.3243
</td>
</tr>
<tr>
<td style="text-align:left;">
HHP
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.3182
</td>
</tr>
<tr>
<td style="text-align:left;">
THE
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.3111
</td>
</tr>
<tr>
<td style="text-align:left;">
FRE
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.3000
</td>
</tr>
<tr>
<td style="text-align:left;">
FRE
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.3000
</td>
</tr>
<tr>
<td style="text-align:left;">
JOURN
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.3000
</td>
</tr>
<tr>
<td style="text-align:left;">
JOURN
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.3000
</td>
</tr>
<tr>
<td style="text-align:left;">
ATH
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.2941
</td>
</tr>
<tr>
<td style="text-align:left;">
ATH
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.2941
</td>
</tr>
<tr>
<td style="text-align:left;">
MAT
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.2941
</td>
</tr>
<tr>
<td style="text-align:left;">
CHI
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.2857
</td>
</tr>
<tr>
<td style="text-align:left;">
GER
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.2857
</td>
</tr>
<tr>
<td style="text-align:left;">
MS
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.2727
</td>
</tr>
<tr>
<td style="text-align:left;">
ART
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.2683
</td>
</tr>
<tr>
<td style="text-align:left;">
MAT
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.2647
</td>
</tr>
<tr>
<td style="text-align:left;">
PHI
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.2632
</td>
</tr>
<tr>
<td style="text-align:left;">
MUS
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.2593
</td>
</tr>
<tr>
<td style="text-align:left;">
ACC
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.2500
</td>
</tr>
<tr>
<td style="text-align:left;">
GEO
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.2500
</td>
</tr>
<tr>
<td style="text-align:left;">
LAS
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.2500
</td>
</tr>
<tr>
<td style="text-align:left;">
LSP
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.2500
</td>
</tr>
<tr>
<td style="text-align:left;">
SPE
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.2500
</td>
</tr>
<tr>
<td style="text-align:left;">
SPE
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.2500
</td>
</tr>
<tr>
<td style="text-align:left;">
PSY
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.2407
</td>
</tr>
<tr>
<td style="text-align:left;">
ATH
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.2353
</td>
</tr>
<tr>
<td style="text-align:left;">
MAT
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.2353
</td>
</tr>
<tr>
<td style="text-align:left;">
SPA
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.2333
</td>
</tr>
<tr>
<td style="text-align:left;">
MAT
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.2059
</td>
</tr>
<tr>
<td style="text-align:left;">
CSC
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.2000
</td>
</tr>
<tr>
<td style="text-align:left;">
CSC
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.2000
</td>
</tr>
<tr>
<td style="text-align:left;">
HSC
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.2000
</td>
</tr>
<tr>
<td style="text-align:left;">
HSC
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.2000
</td>
</tr>
<tr>
<td style="text-align:left;">
MUSAP
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.2000
</td>
</tr>
<tr>
<td style="text-align:left;">
MUSAP
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.2000
</td>
</tr>
<tr>
<td style="text-align:left;">
MUSAP
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.2000
</td>
</tr>
<tr>
<td style="text-align:left;">
BIO
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1957
</td>
</tr>
<tr>
<td style="text-align:left;">
ART
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1951
</td>
</tr>
<tr>
<td style="text-align:left;">
ART
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.1951
</td>
</tr>
<tr>
<td style="text-align:left;">
PHY
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.1935
</td>
</tr>
<tr>
<td style="text-align:left;">
ENV
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1905
</td>
</tr>
<tr>
<td style="text-align:left;">
ENV
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.1905
</td>
</tr>
<tr>
<td style="text-align:left;">
IND
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1875
</td>
</tr>
<tr>
<td style="text-align:left;">
MUS
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1852
</td>
</tr>
<tr>
<td style="text-align:left;">
MUS
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.1852
</td>
</tr>
<tr>
<td style="text-align:left;">
MFL
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1818
</td>
</tr>
<tr>
<td style="text-align:left;">
MS
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1818
</td>
</tr>
<tr>
<td style="text-align:left;">
MS
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.1818
</td>
</tr>
<tr>
<td style="text-align:left;">
THE
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.1778
</td>
</tr>
<tr>
<td style="text-align:left;">
ATH
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1765
</td>
</tr>
<tr>
<td style="text-align:left;">
POE
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1765
</td>
</tr>
<tr>
<td style="text-align:left;">
POE
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1765
</td>
</tr>
<tr>
<td style="text-align:left;">
SOC
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1765
</td>
</tr>
<tr>
<td style="text-align:left;">
SOC
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.1765
</td>
</tr>
<tr>
<td style="text-align:left;">
ACC
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1667
</td>
</tr>
<tr>
<td style="text-align:left;">
ATHSOC
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1667
</td>
</tr>
<tr>
<td style="text-align:left;">
PSY
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1667
</td>
</tr>
<tr>
<td style="text-align:left;">
SPA
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1667
</td>
</tr>
<tr>
<td style="text-align:left;">
PHY
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1613
</td>
</tr>
<tr>
<td style="text-align:left;">
HHP
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1591
</td>
</tr>
<tr>
<td style="text-align:left;">
PHI
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.1579
</td>
</tr>
<tr>
<td style="text-align:left;">
BIO
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1522
</td>
</tr>
<tr>
<td style="text-align:left;">
HIS
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1489
</td>
</tr>
<tr>
<td style="text-align:left;">
CHI
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.1429
</td>
</tr>
<tr>
<td style="text-align:left;">
ENV
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1429
</td>
</tr>
<tr>
<td style="text-align:left;">
GER
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.1429
</td>
</tr>
<tr>
<td style="text-align:left;">
HIS
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.1383
</td>
</tr>
<tr>
<td style="text-align:left;">
HHPA
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1379
</td>
</tr>
<tr>
<td style="text-align:left;">
HHP
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1364
</td>
</tr>
<tr>
<td style="text-align:left;">
CHE
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1351
</td>
</tr>
<tr>
<td style="text-align:left;">
CSC
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.1333
</td>
</tr>
<tr>
<td style="text-align:left;">
REL
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.1333
</td>
</tr>
<tr>
<td style="text-align:left;">
PHY
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.1290
</td>
</tr>
<tr>
<td style="text-align:left;">
EDU
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1250
</td>
</tr>
<tr>
<td style="text-align:left;">
IND
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1250
</td>
</tr>
<tr>
<td style="text-align:left;">
LAS
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1250
</td>
</tr>
<tr>
<td style="text-align:left;">
LAS
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1250
</td>
</tr>
<tr>
<td style="text-align:left;">
LSP
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1250
</td>
</tr>
<tr>
<td style="text-align:left;">
LSP
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.1250
</td>
</tr>
<tr>
<td style="text-align:left;">
POE
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.1176
</td>
</tr>
<tr>
<td style="text-align:left;">
SOC
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1176
</td>
</tr>
<tr>
<td style="text-align:left;">
ENG
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.1148
</td>
</tr>
<tr>
<td style="text-align:left;">
PSY
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1111
</td>
</tr>
<tr>
<td style="text-align:left;">
THE
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1111
</td>
</tr>
<tr>
<td style="text-align:left;">
CHE
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.1081
</td>
</tr>
<tr>
<td style="text-align:left;">
REL
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1000
</td>
</tr>
<tr>
<td style="text-align:left;">
SPA
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.1000
</td>
</tr>
<tr>
<td style="text-align:left;">
BUS
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.0976
</td>
</tr>
<tr>
<td style="text-align:left;">
BUS
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:right;">
0.0976
</td>
</tr>
<tr>
<td style="text-align:left;">
MFL
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.0909
</td>
</tr>
<tr>
<td style="text-align:left;">
BIO
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.0870
</td>
</tr>
<tr>
<td style="text-align:left;">
IND
</td>
<td style="text-align:left;">
400
</td>
<td style="text-align:right;">
0.0625
</td>
</tr>
<tr>
<td style="text-align:left;">
PHI
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.0526
</td>
</tr>
<tr>
<td style="text-align:left;">
HIS
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.0426
</td>
</tr>
<tr>
<td style="text-align:left;">
HHPA
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
0.0345
</td>
</tr>
<tr>
<td style="text-align:left;">
MUS
</td>
<td style="text-align:left;">
000
</td>
<td style="text-align:right;">
0.0185
</td>
</tr>
<tr>
<td style="text-align:left;">
ENG
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
0.0164
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="course-name-word-cloud" class="section level1">
<h1>Course Name Word Cloud</h1>
<p>Now for a different type of counting, let’s make a word cloud of words in course names. I would rather use the <code>wordcloud2</code> package which allows for some interesting visualizations, but it relies on javascript which doesn’t play well with a static site generator (but a shiny app would work). We’ll need to load some additional packages and split up the name data into words and frequencies, after doing a little cleaning of the names.</p>
<pre class="r"><code>library(devtools)
library(tm)
library(SnowballC)
library(wordcloud)

#Load and clean
wordFreq &lt;- Corpus(VectorSource(classes$name))
wordFreq &lt;- tm_map(wordFreq, PlainTextDocument)
wordFreq &lt;- tm_map(wordFreq, content_transformer(tolower))
wordFreq &lt;- tm_map(wordFreq, removePunctuation)
wordFreq &lt;- tm_map(wordFreq, removeWords, c(&quot;a&quot;, &quot;the&quot;, &quot;and&quot;, &quot;for&quot;))
wordFreq &lt;- tm_map(wordFreq, stripWhitespace)

#build TDM and DF of words and frequencies
wordTDM &lt;- TermDocumentMatrix(wordFreq)
wordTDM&lt;- wordTDM %&gt;% as.matrix() %&gt;% rowSums() %&gt;% sort()
wordDF &lt;- data.frame(word=names(wordTDM), freq=wordTDM)

pal &lt;- brewer.pal(9, &quot;Purples&quot;)[-(1:3)]

wordcloud(words=wordDF$word, freq=wordDF$freq, 
          min.freq = 6,  random.order = FALSE, rot.per = .25, 
          scale = c(3,.5), colors = pal)</code></pre>
<p><img src="/post/2018-05-05-counting-class_files/figure-html/wc_init-1.png" width="672" /></p>
<p>The <em>special topics</em> and <em>independent study</em> classes that almost all subjects have along with <em>lab</em> and <em>introduction</em> are not too surprising. History, with it’s high course count and the fact that it appears in other subjects (<em>History of Math</em> or <em>Music History</em>) is also not surprising. Beyond that, the wordcloud shows a nice diversity of disciplines and unifying ideas.</p>
<p>Clearly this is just scratching the surface of exploring a college’s curriculum and it would be interesting to compare similar schools in addition to exploring deeper into course descriptions and the links formed by prerequisites and major/minor requirements.</p>
</div>

      </div>

      


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/tags/r">R</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/scrape">scrape</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/rvest">rvest</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/curriculum">curriculum</a>
  
</div>



    </div>
  </div>

</article>



<div class="article-container article-widget">
  <div class="hr-light"></div>
  <h3>Related</h3>
  <ul>
    
    <li><a href="/post/2018-04-01-sql-rmd/">SQL in RMarkdown!</a></li>
    
    <li><a href="/post/2018-3-11-run-tacoma1/">Running Tacoma: Maps</a></li>
    
    <li><a href="/post/2018-01-27-acs-map/">Idaho ACS Mapping</a></li>
    
    <li><a href="/post/2018-01-15-stock-rw/">Stock Random Walks</a></li>
    
    <li><a href="/post/2018-01-01/">Thoughts on Severe Class Imbalance </a></li>
    
  </ul>
</div>




<div class="article-container">
  

</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017 Jason Preszler &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/c.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/sql.min.js"></script>
      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML" integrity="sha512-tOav5w1OjvsSJzePRtt2uQPFwBoHt1VZcUq8l8nm5284LEKE9FSJBQryzMBzHxY5P0zRdNqEcpLIRVYFNgu1jw==" crossorigin="anonymous"></script>
    
    

  </body>
</html>

